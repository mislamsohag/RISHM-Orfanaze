_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[68],{"9fQo":function(e,t){e.exports="/_next/static/images/showcaseShare-7677220c25033538cf453e049a17941e.webp"},UIFd:function(e,t,n){e.exports={otpcontainer:"otp-input_otpcontainer__JE-Ti",otpLabel:"otp-input_otpLabel__kw_3T",inputWrapper:"otp-input_inputWrapper__2fgsb",boxWrapper:"otp-input_boxWrapper__2D_N2",inputBox:"otp-input_inputBox__3vlu1",active:"otp-input_active__3Vmeb",blink:"otp-input_blink__3eA8r",orgInput:"otp-input_orgInput__1wDSf"}},e58e:function(e,t,n){"use strict";var a=n("nKUr"),o=n("g4pe"),i=n.n(o),c=n("Bf30"),s=n.n(c),r=n("9fQo"),l=n.n(r),u=n("NLAx"),d=n("G32I"),p=n("HBRw"),b=n("Wy6B"),j=n("i79M"),m=n("jYb/");t.a=function(e){var t,n,o,c=e.children,r=e.title,g=e.description,f=e.keywords,O=e.showMobileMenu,h=void 0!==O&&O,_=e.selectedMenu,w=void 0===_?0:_,x=e.footerMargin,v=void 0!==x&&x,y=e.showChatButton,N=void 0===y||y,k=e.showHeader,B=void 0===k||k,P=e.showFooter,S=void 0===P||P,E=e.onlyMobileMenu,I=void 0!==E&&E,C=e.canonicalLink,T=void 0===C?"":C,A=e.chatButtonStyle,M=void 0===A?{}:A,D=e.footerType,L=void 0===D?"":D,R=Object(p.b)().isPartnerUrl,U=(null===(t=navigator)||void 0===t||null===(n=t.userAgentData)||void 0===n?void 0:n.platform)||(null===(o=navigator)||void 0===o?void 0:o.platform)||"unknown",F=U&&/iPad|iPhone|iPod/.test(U);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(i.a,{children:[Object(a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1".concat(F?", maximum-scale=1":"")}),Object(a.jsx)("meta",{name:"author",content:"Donatekart"}),Object(a.jsx)("meta",{name:"keywords",content:f||"donation,charity,crowdfunding,fundraising,donate online,donate online to charity,donations for nonprofits,donation websites for nonprofit,donate online india,donation gift card"}),Object(a.jsx)("meta",{name:"description",content:g||"Donatekart is India's most trusted and transparent donation platform. It enables donors to reach people in need and donate to the cause directly. We have worked with over 1400+ NGOs and raised products worth 200 crores from 7+ Lakhs unique donors."}),Object(a.jsx)("meta",{property:"og:type",content:"website"}),Object(a.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:image",content:"".concat(m.a.baseUrl).concat(l.a,"?v=1")}),Object(a.jsx)("title",{children:r||"India's Most Trusted Donation Platform | DonateKart"}),Object(a.jsx)("link",{rel:"shortcut icon",href:s.a}),T&&Object(a.jsx)("link",{rel:"canonical",href:T})]}),Object(a.jsx)("noscript",{children:Object(a.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=".concat(m.a.gtm),height:"0",width:"0",defer:!0,style:{display:"none",visibility:"hidden"}})}),B?R?Object(a.jsx)(u.a,{}):Object(a.jsx)(d.a,{}):"",Object(a.jsx)("main",{children:c}),S?R?Object(a.jsx)(b.a,{}):Object(a.jsx)(j.a,{showFooter:S,showMobileMenu:h,selectedMenu:w,footerMargin:v,showChatButton:N,onlyMobileMenu:I,chatButtonStyle:M,footerType:L}):null]})}},myAH:function(e,t){e.exports="data:image/png;base64,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"},n8Kg:function(e,t,n){e.exports={accountsSection:"accounts_accountsSection__1d01z",loading:"accounts_loading__1p8PY",absoluteLoading:"accounts_absoluteLoading__34q2D",wrapper:"accounts_wrapper__3gaLZ",msg:"accounts_msg__zdvPC",account:"accounts_account__2JjPE",active:"accounts_active__2IDRP",userImg:"accounts_userImg__17liC",detailSection:"accounts_detailSection__1uSvK",detailPara:"accounts_detailPara__5N4aO",backBtn:"accounts_backBtn__UXrZk",badge:"accounts_badge__2QyDh",notVerified:"accounts_notVerified__1SfYp"}},pqMH:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("yfTL")}])},toAF:function(e,t,n){e.exports={loginSection:"login_loginSection__XpUt2",loginContainer:"login_loginContainer__1ppMd",dkLogo:"login_dkLogo__1h06S",subHeading:"login_subHeading__2Eqvl",quickLoginWrapper:"login_quickLoginWrapper__2GVLy",userName:"login_userName__3oP-t",emailInput:"login_emailInput__1kHCT",phoneInput:"login_phoneInput__3tf9z",phoneCode:"login_phoneCode__3lXvR",phoneCodeDropDown:"login_phoneCodeDropDown__2LPdP",userNameWrapper:"login_userNameWrapper__1VA_L",passwordInput:"login_passwordInput__1wda2",otpBtnWrapper:"login_otpBtnWrapper__2pweR",otpBtn:"login_otpBtn__3sejU",timer:"login_timer__20YRF",modalSpacing:"login_modalSpacing__WLzVj",btnGroup:"login_btnGroup__3wkGc",submitBtn:"login_submitBtn__16erx",btnOutline:"login_btnOutline__3661i",socialBtnWrapper:"login_socialBtnWrapper__26GCD",socialBtn:"login_socialBtn__Up1-H",fbLoginBtn:"login_fbLoginBtn__1qhAB",googleLoginBtn:"login_googleLoginBtn__2e-14",seperater:"login_seperater__3_Qrr",formGroup:"login_formGroup__2Ca0W",iconPadding:"login_iconPadding__2kELe",fbIcon:"login_fbIcon__2kdMN",helpBlock:"login_helpBlock__2fLgL",successMsg:"login_successMsg__1vS0x",linkWrapper:"login_linkWrapper__3Pce2",link:"login_link__WsJKW",signup:"login_signup__305S8",backBtn:"login_backBtn__Co_uc",noteBlock:"login_noteBlock__1ZUhY",showPasswordWrapper:"login_showPasswordWrapper__1Z7cx",showPassword:"login_showPassword__1T5eL",note:"login_note__105Uz"}},umGH:function(e,t,n){e.exports={animationload:"spinner_animationload__3VLzD",spinner:"spinner_spinner__2-bYp",osahanloading:"spinner_osahanloading__1Rsnl",osahanloading_after:"spinner_osahanloading_after__2p3L3"}},xzp7:function(e,t,n){"use strict";var a=n("nKUr"),o=(n("q1tI"),n("umGH")),i=n.n(o);t.a=function(e){var t=e.className,n=void 0===t?"":t;return Object(a.jsx)("div",{className:"".concat(i.a.animationload," ").concat(n," ").concat(i.a.spinner),children:Object(a.jsx)("div",{className:i.a.osahanloading})})}},y6Tw:function(e,t){e.exports="/_next/static/images/dkLogo-7bd516182c5479fca3d1dc9589226d4d.webp"},yfTL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return W}));var a=n("nKUr"),o=n("e58e"),i=n("cpVT"),c=n("q1tI"),s=n("20a2"),r=n("IP2g"),l=n("8tEE"),u=n("wHSu"),d=n("myAH"),p=n.n(d),b=n("y6Tw"),j=n.n(b),m=n("UmT1"),g=n("ZtjB"),f=n("1Te3"),O=n("VRGX"),h=n("jYb/"),_=n("yqTB");n("g423");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.switchTo,n=e.prevUrl,o=e.styles,l=Object(s.useRouter)(),d=Object(m.a)().authService,p=Object(g.b)(),b=p.geoData,j=p.authentication,h=Object(c.useRef)(null),w=Object(c.useState)({isError:!1,username:""}),v=w[0],y=w[1],N=Object(c.useState)(!1),k=N[0],B=N[1],P=Object(c.useState)({phoneCode:b.phoneCode||"+91",username:"",password:"",otp:""}),S=P[0],E=P[1],I=Object(c.useState)(0),C=I[0],T=I[1],A=Object(c.useState)(30),M=A[0],D=A[1],L=Object(c.useState)(!1),R=L[0],U=L[1],F=Object(c.useState)(!1),W=F[0],q=F[1],H=Object(c.useState)(!1),G=H[0],K=H[1],z=function(e){var t=e.target.name,n=e.target.value;E((function(e){return x(x({},e),{},Object(i.a)({},t,n))})),v.isError&&"username"===t&&V(n),"username"===t&&0!==C&&Y()},Z=function(){var e;(function(){if(V(S.username)){if(S.otp&&4===S.otp.length)return!0;if(S.password)return!0}return!1})()&&(e=S.otp&&0!==C||R?d.loginUsingEmailOTP({code:S.otp,email:S.username}):d.loginUsingPassword({password:S.password,email:S.username}),B(!0),e.then((function(){Moengage.add_user_name(S.username),j.email&&(Moengage.add_unique_user_id(j.email),Moengage.add_email(j.email)),j.phoneNumber&&Moengage.add_mobile(j.phoneNumber);var e=n||"/";l.push(e)})).catch((function(){y(x(x({},v),{},{isError:!0,details:"Incorrect credentials!!"}))})).finally((function(){E((function(e){return x(x({},e),{},{otp:""})})),B(!1)})))},V=Object(c.useCallback)((function(e){return Object(O.q)(e)?(y((function(e){return x(x({},e),{},{username:"",isError:!1})})),!0):(y((function(e){return x(x({},e),{},{isError:!0,username:"Invalid Email ID!"})})),!1)}),[S.phoneCode]),X=Object(c.useCallback)((function(){S.otp&&E((function(e){return x(x({},e),{},{otp:""})})),W||V(S.username)&&(q(!0),d.requestOtp(R?{phone:S.username}:{email:S.username}).then((function(){J()})).catch((function(){y((function(e){return x(x({},e),{},{isError:!0,details:"User does not exist, please register!"})}))})).finally((function(){q(!1)})))}),[S.username,W,S.otp,R]),J=Object(c.useCallback)((function(){T(1);var e=1;h.current=setInterval((function(){var t=30-e;e+=1,D(t),t<=0&&(T(2),D(30),clearInterval(h.current))}),1e3)}),[S.username]),Y=Object(c.useCallback)((function(){clearInterval(h.current),T(0),D(30)}),[h]);return Object(c.useEffect)((function(){if(S.username.length>=3){U(!1)}else U(!1);S.otp&&S.otp.length>0&&E((function(e){return x(x({},e),{},{otp:""})}))}),[S.username]),Object(c.useEffect)((function(){S.otp&&4===S.otp.length&&Z()}),[S.otp]),Object(c.useEffect)((function(){v.isError&&v.details&&y({isError:!1,details:"",username:""})}),[S.username,S.password]),Object(c.useEffect)((function(){S.password&&E((function(e){return x(x({},e),{},{password:""})})),S.otp&&E((function(e){return x(x({},e),{},{otp:""})}))}),[S.username]),Object(c.useEffect)((function(){return function(){clearInterval(h.current)}}),[]),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Z()},children:[Object(a.jsx)("div",{className:o.userNameWrapper,children:Object(a.jsx)(f.a,{type:R?"number":"email",value:S.username,name:"username",id:"username",labelText:"Email ID",isRequired:!0,autoFocus:!0,onInputChange:z,fieldClassName:o.userName,className:R?o.phoneInput:o.emailInput,iconClassName:o.otpBtnWrapper,icon:Object(a.jsx)("span",{className:"".concat(o.otpBtn," ").concat(1===C?o.timer:""),onClick:X,children:0===C?W?"Sending...":"Send OTP":1===C?"Retry in ".concat(M,"s"):"Resend OTP"})})}),v.isError&&Object(a.jsx)("div",{className:o.helpBlock,children:v.username}),0===C?!R&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{type:G?"text":"password",value:S.password,name:"password",id:"password",labelText:"Password",isRequired:!0,onInputChange:z,fieldClassName:o.passwordInput,iconClassName:o.showPasswordWrapper,icon:Object(a.jsx)("i",{className:o.showPassword,onClick:function(){K(!G)},children:Object(a.jsx)(r.a,{icon:G?u.r:u.s})})}),Object(a.jsx)("div",{className:o.linkWrapper,children:Object(a.jsx)("a",{className:o.link,onClick:function(){return t("forgotPassword")},children:"Reset Password"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_.a,{name:"otp",otp:S.otp,setOtp:z,digits:4}),!R&&Object(a.jsx)("div",{className:o.linkWrapper,children:Object(a.jsx)("a",{className:o.link,onClick:Y,tabIndex:-1,children:"Login Using Password"})})]}),v.isError&&Object(a.jsx)("div",{className:o.helpBlock,children:v.details}),Object(a.jsxs)("div",{className:o.btnGroup,children:[R&&0!==C&&Object(a.jsx)("div",{className:o.noteBlock,children:"PhoneOtp verification will take around 25sec."}),Object(a.jsxs)("button",{type:"submit",className:o.submitBtn,disabled:k,children:[k&&Object(a.jsxs)("i",{children:[Object(a.jsx)(r.a,{icon:u.M,className:"fa-spin"})," "]}),"Login"]}),Object(a.jsx)("a",{className:"".concat(o.link," ").concat(o.signup),onClick:function(){return t("register")},children:"New to Donatekart? Register now"})]})]})};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=e.switchTo,n=e.styles,o=Object(c.useState)(""),s=o[0],l=o[1],d=Object(c.useState)(!1),p=d[0],b=d[1],j=Object(c.useState)(!1),g=j[0],h=j[1],_=Object(c.useState)({name:"",email:"",password:"",confirmPassword:"",phoneNumber:"",image:"UserImages/user.png"}),w=_[0],x=_[1],v=Object(m.a)().authService,y=function(e){x(N(N({},w),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(a.jsxs)("form",{style:{marginTop:32},onSubmit:function(e){e.preventDefault(),h(!1),w.password!==w.confirmPassword?(l("Passwords do not match. Please make sure both passwords match."),h(!0)):Object(O.q)(w.email)?(h(!1),b(!0),v.registerUser(w).then((function(){Moengage.add_unique_user_id(w.email),Moengage.add_email(w.email),Moengage.add_mobile(w.phoneNumber),t("login")})).catch((function(e){h(!0);var t="Unable to register.",n=(Array.isArray(e)?e[0]:e)||"";t+=JSON.stringify(n).replaceAll(/{|}|\[|\]|"/g," "),l(t),setTimeout((function(){l(""),h(!1)}),15e3)})).finally((function(){b(!1)}))):(l("Invalid Email ID!!"),h(!0))},children:[Object(a.jsx)(f.a,{type:"text",value:w.name,name:"name",id:"name",labelText:"Name",isRequired:!0,onInputChange:y,autoFocus:!0}),Object(a.jsx)(f.a,{type:"email",value:w.email,name:"email",id:"email",labelText:"Email",isRequired:!0,onInputChange:y}),Object(a.jsx)(f.a,{type:"number",max:9999999999,value:w.phoneNumber,name:"phoneNumber",id:"phoneNumber",labelText:"Mobile Number",isRequired:!0,onInputChange:y}),Object(a.jsx)(f.a,{type:"password",value:w.password,name:"password",id:"password",labelText:"Password",isRequired:!0,onInputChange:y}),Object(a.jsx)(f.a,{type:"password",value:w.confirmPassword,name:"confirmPassword",id:"confirmPassword",labelText:"Confirm Password",isRequired:!0,onInputChange:y}),g&&Object(a.jsx)("div",{className:n.helpBlock,children:s}),Object(a.jsx)("div",{className:n.btnGroup,children:Object(a.jsxs)("button",{type:"submit",className:n.submitBtn,disabled:p,children:[p&&Object(a.jsx)("i",{children:Object(a.jsx)(r.a,{icon:u.M,className:"fa-spin"})}),"Register"]})}),Object(a.jsxs)("a",{className:"".concat(n.link," ").concat(n.backBtn),onClick:function(){return t("login")},children:[Object(a.jsx)(r.a,{icon:u.d})," Back to Login"]})]})},B=function(e){var t=e.switchTo,n=e.styles,o=Object(c.useState)(""),i=o[0],s=o[1],l=Object(c.useState)(!1),d=l[0],p=l[1],b=Object(c.useState)(!1),j=b[0],g=b[1],h=Object(c.useState)(""),_=h[0],w=h[1],x=Object(c.useState)(""),v=x[0],y=x[1],N=Object(m.a)().authService;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(a.jsxs)("form",{style:{marginTop:32},onSubmit:function(e){e.preventDefault(),function(){if(!Object(O.q)(_))return s("Invalid Email ID!!"),g(!0),!1;g(!1),p(!0),N.forgotPassword(_).then((function(){y("Please check your email for reset password link."),setTimeout((function(){y("")}),4e3)})).catch((function(e){var t="Error resetting password. ";t+=Array.isArray(e.data)?e.data[0]:"",s(t),g(!0),setTimeout((function(){s(""),g(!1)}),3e3)})).finally((function(){p(!1)}))}()},children:[Object(a.jsx)("p",{children:"Please enter your email ID to generate password (first time donors) or to change the existing password."}),Object(a.jsx)(f.a,{type:"email",value:_,name:"forgotPasswordEmail",id:"forgotPasswordEmail",labelText:"Email",isRequired:!0,onInputChange:function(e){w(e.target.value)},autoFocus:!0}),j&&Object(a.jsx)("div",{className:n.helpBlock,children:i}),v.length>0&&Object(a.jsx)("div",{className:n.successMsg,children:v}),Object(a.jsx)("div",{className:n.btnGroup,children:Object(a.jsxs)("button",{type:"submit",id:"btnResetPassword",className:n.submitBtn,disabled:d,children:[d&&Object(a.jsx)("i",{children:Object(a.jsx)(r.a,{icon:u.M,className:"fa-spin"})}),"Reset Password"]})}),Object(a.jsxs)("a",{className:"".concat(n.link," ").concat(n.backBtn),onClick:function(){return t("login")},children:[Object(a.jsx)(r.a,{icon:u.d})," Back to Login"]})]})},P=n("sWYD"),S=n("DvaS"),E=n("xzp7"),I=n("n8Kg"),C=n.n(I);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.switchTo,n=void 0===t?function(){}:t,o=Object(s.useRouter)(),i=Object(m.a)().authService,l=Object(g.b)().authentication,d=Object(c.useState)([]),p=d[0],b=d[1],j=Object(c.useState)({}),f=j[0],O=j[1],_=Object(c.useState)(!1),w=_[0],x=_[1],v=Object(c.useState)(!1),y=v[0],N=v[1];return Object(c.useEffect)((function(){x(!0),l.isAuth&&function(e){var t=e?e.slice(-10):"";t&&(new S.a).get("".concat(h.a.hostUrl,"api/user/getLinkedAccounts?phoneNumber=").concat(t)).then((function(e){e.length>1?b(e.map((function(e){return A(A({},e),{},{lastTransaction:(t=e.lastTranDate,null==t?"":Object(P.a)(new Date(t),"dd.MM.yyyy")),totalTransactions:e.tranCount});var t}))):(i.setAuthentication({role:""}),o.replace("/profile"))})).finally((function(){x(!1)}))}(l.phoneNumber)}),[l.isAuth]),Object(a.jsxs)("section",{className:C.a.accountsSection,children:[w?Object(a.jsxs)("p",{className:C.a.loading,children:[Object(a.jsx)(E.a,{}),"Fetching Linked Accounts, If Any..."]}):Object(a.jsxs)(a.Fragment,{children:[p.length>1&&Object(a.jsxs)("p",{className:C.a.msg,children:["Your mobile number ",l.phoneNumber," is linked with multiple Email IDs. Please select an email id to continue."]}),Object(a.jsxs)("div",{className:C.a.wrapper,children:[p.map((function(e,t){return Object(a.jsxs)("div",{className:"".concat(C.a.account," ").concat(f.email===e.email?C.a.active:""),onClick:function(){!function(e){O(e),l&&l.email!==e.email?(N(!0),i.loginWithSecondaryEmail({email:e.email,appName:"DonateKart"}).then((function(e){e&&o.replace("/profile")})).finally((function(){N(!1)}))):(i.setAuthentication({role:""}),o.replace("/profile"))}(e)},children:[Object(a.jsx)("span",{className:C.a.userImg,children:e.email&&e.email[0].toUpperCase()}),Object(a.jsx)("div",{className:C.a.detailSection,children:Object(a.jsxs)("div",{className:C.a.detailWrapper,children:[Object(a.jsx)("p",{className:C.a.detailPara,children:Object(a.jsx)("b",{children:e.email})}),Object(a.jsxs)("p",{className:C.a.detailPara,children:["Total Transactions: ",Object(a.jsx)("b",{children:e.totalTransactions})]}),Object(a.jsxs)("p",{className:C.a.detailPara,children:["Last Transaction: ",Object(a.jsx)("b",{children:e.lastTransaction})]})]})})]},t)})),y&&Object(a.jsx)("div",{className:C.a.absoluteLoading,children:Object(a.jsx)(E.a,{})})]})]}),Object(a.jsxs)("a",{className:C.a.backBtn,onClick:function(){n("login")},children:[Object(a.jsx)(r.a,{icon:u.d})," Back to Login"]})]})},D=n("toAF"),L=n.n(D);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){var e=Object(s.useRouter)(),t=Object(m.a)().authService,n=Object(g.b)().authentication,o=Object(c.useState)("login"),i=o[0],d=o[1],b=Object(c.useState)(!1),_=b[0],w=b[1],x=Object(c.useState)(!1),y=x[0],N=x[1],P=Object(c.useState)(!0),S=P[0],E=P[1],I=Object(c.useState)(""),C=I[0],T=I[1],A=Object(c.useState)({provider:"",externalAccessToken:"",name:"",email:"",image:"UserImages/user.png",phoneNumber:""}),D=A[0],R=A[1],F=function(e){d(e)},W=function(){w(!0),FB.login(q,{scope:"email"})},q=function(e){e.authResponse?FB.api("/me?fields=name,email,id,picture",(function(e){R(U(U({},D),{},{provider:"Facebook",externalAccessToken:FB.getAuthResponse().accessToken,name:e.name,email:e.email,image:e.picture.data.url})),e.email||E(!1)})):(w(!1),console.log("User cancelled login or did not fully authorize."))},H=function(e){var t=e.getBasicProfile();R((function(n){return U(U({},n),{},{provider:"Google",externalAccessToken:e.getAuthResponse().id_token,name:t.getName(),email:t.getEmail(),image:t.getImageUrl()})})),Moengage.add_unique_user_id(D.email),Moengage.add_email(D.email),Moengage.add_user_name(D.name)},G=function(){return Object(O.j)("prevUrl")},K=Object(c.useCallback)((function(){var t=G();e.push(t)}),[e]);return Object(c.useEffect)((function(){setTimeout((function(){window.scrollTo(0,0)}),30)}),[]),Object(c.useEffect)((function(){n&&n.isAuth&&"Guest"!==n.role&&"PaidGuest"!==n.role&&K()}),[n]),Object(c.useEffect)((function(){D.email&&(N(!0),t.externalLogin(D).then(K).catch((function(e){console.log(Array.isArray(e.data)?e.data[0]:"")})).finally((function(){w(!1),N(!1)})))}),[D]),Object(c.useEffect)((function(){var e=function(e,t,n,a,o){var i=e.getElementsByTagName(t)[0],c=i,s=i;(s=e.createElement(t)).id=n,s.src=a,s.defer=1,c&&c.parentNode?c.parentNode.insertBefore(s,c):e.head.appendChild(s),s.onload=o};e(document,"script","google-login","https://apis.google.com/js/platform.js",(function(){gapi.load("auth2",(function(){gapi.auth2.init({client_id:h.a.googleClientID,cookiepolicy:"single_host_origin"}).attachClickHandler(document.getElementById("googleBtn"),{},H,(function(e){}))}))})),window.fbAsyncInit=function(){FB.init({appId:h.a.facebookClientID,autoLogAppEvents:!0,xfbml:!0,version:"v6.0"})},e(document,"script","facebook-login","https://connect.facebook.net/en_US/sdk.js",(function(){}))}),[D]),Object(a.jsx)("section",{className:L.a.loginSection,children:Object(a.jsxs)("div",{className:L.a.loginContainer,children:[Object(a.jsx)("p",{className:L.a.dkLogo,children:Object(a.jsx)("img",{src:j.a,height:"60",alt:"Donatekart Logo"})}),Object(a.jsx)("p",{className:L.a.subHeading,children:"Download 80G | Track Donations | Edit Profile"}),"login"===i&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:L.a.quickLoginWrapper,children:[Object(a.jsx)("p",{children:"Quickly login using"}),Object(a.jsxs)("div",{className:L.a.socialBtnWrapper,children:[Object(a.jsxs)("a",{id:"googleBtn",className:"".concat(L.a.socialBtn," ").concat(L.a.googleLoginBtn),disabled:y,children:[Object(a.jsx)("i",{className:L.a.iconPadding,children:Object(a.jsx)("img",{src:p.a,height:21})}),"Google"," ",y&&Object(a.jsxs)("i",{children:["\xa0",Object(a.jsx)(r.a,{icon:u.M,className:"fa-spin"})]})]}),Object(a.jsxs)("a",{onClick:function(){"Facebook"==="Facebook"&&W()},className:"".concat(L.a.socialBtn," ").concat(L.a.fbLoginBtn),disabled:_,children:[_&&Object(a.jsxs)("i",{children:["\xa0",Object(a.jsx)(r.a,{icon:u.M,className:"fa-spin"})]}),Object(a.jsx)("i",{className:L.a.iconPadding,children:Object(a.jsx)(r.a,{icon:l.a,className:L.a.fbIcon})}),"Facebook"]})]}),!S&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{type:"email",value:C,name:"fbEmail",id:"fbEmail",labelText:"Facebook Email",isRequired:!0,onInputChange:function(e){T(e.target.value)}}),Object(a.jsx)("div",{className:L.a.formGroup,children:Object(a.jsx)("button",{className:L.a.submitBtn,onClick:function(){R(U(U({},D),{},{email:C}))},children:"SUBMIT"})})]})]}),Object(a.jsx)("div",{className:L.a.seperater}),Object(a.jsx)(v,{switchTo:F,prevUrl:G(),styles:L.a})]}),"register"===i&&Object(a.jsx)(k,{switchTo:F,styles:L.a}),"forgotPassword"===i&&Object(a.jsx)(B,{switchTo:F,styles:L.a}),"linkedAccounts"===i&&Object(a.jsx)(M,{switchTo:F})]})})};function W(){return Object(a.jsx)(o.a,{title:"Login now to bring the change | DonateKart",description:"India's most trusted and transparent non-profit platform lets you donate and raise funds for charitable causes. Make a difference today by Logging in.",footerMargin:!0,showMobileMenu:!0,selectedMenu:4,onlyMobileMenu:!0,children:Object(a.jsx)(F,{})})}},yqTB:function(e,t,n){"use strict";var a=n("nKUr"),o=n("q1tI"),i=n("UIFd"),c=n.n(i);t.a=function(e){var t=e.name,n=e.otp,i=e.setOtp,s=e.digits,r=void 0===s?4:s,l=e.label,u=void 0===l?"Enter OTP":l,d=Object(o.useRef)(),p=Object(o.useState)(!0),b=p[0],j=p[1],m=function(e){var n=e.target.value.trim();n.length<=r&&!isNaN(Number(n))&&i({target:{name:t,value:n}})};return Object(o.useEffect)((function(){d.current&&d.current.focus()}),[d.current]),Object(o.useMemo)((function(){return Object(a.jsxs)("div",{className:c.a.otpcontainer,children:[Object(a.jsx)("label",{className:c.a.otpLabel,children:u}),Object(a.jsxs)("div",{className:c.a.inputWrapper,children:[Object(a.jsx)("div",{className:c.a.boxWrapper,children:Array(r).fill().map((function(e,t){return Object(a.jsx)("span",{className:"".concat(c.a.inputBox," ").concat(b&&t===n.length?c.a.active:""),children:n[t]?n[t]:b&&t===n.length?"|":""},t)}))}),Object(a.jsx)("input",{ref:d,type:"number",min:"0",max:"999999",value:n,onChange:m,className:c.a.orgInput,autoComplete:"off",autoFocus:!0,onFocus:function(){return j(!0)},onBlur:function(){return j(!1)}})]})]})}),[t,n,i,r,b])}}},[["pqMH",0,1,6,10,2,3,4,5,9,8,7,12,11,19,21,20]]]);